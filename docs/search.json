[
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "blog",
    "section": "",
    "text": "Air Quality and the Thomas Fire\n\n\nTime series analysis of AQI (Air Quality Index) as a result of the Thomas Fire in Santa Barbara\n\n\n\nCharlie Curtin\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOzone and Tree Canopy in LA County\n\n\nAssessing the relationship between ozone concentrations and percent tree canopy cover by census tract in LA County and the seasonality of ozone\n\n\n\nCharlie Curtin\n\n\nDec 14, 2023\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nA City Slicker’s Observations on more Foresty Forestry\n\n\ntrees, trees, trees\n\n\n\nCharlie Curtin\n\n\nDec 13, 2023\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "posts/2023-12-14-eds222-final/index.html",
    "href": "posts/2023-12-14-eds222-final/index.html",
    "title": "Ozone and Tree Canopy in LA County",
    "section": "",
    "text": "Github: https://github.com/charliecurtin1/ozone_tree_canopy_LA.git"
  },
  {
    "objectID": "posts/2023-12-14-eds222-final/index.html#research-question",
    "href": "posts/2023-12-14-eds222-final/index.html#research-question",
    "title": "Ozone and Tree Canopy in LA County",
    "section": "Research Question",
    "text": "Research Question\nWhat is the relationship between ozone concentrations and tree canopy cover by census tract in Los Angeles County? How do ozone concentrations vary seasonally?"
  },
  {
    "objectID": "posts/2023-12-14-eds222-final/index.html#significance",
    "href": "posts/2023-12-14-eds222-final/index.html#significance",
    "title": "Ozone and Tree Canopy in LA County",
    "section": "Significance",
    "text": "Significance\nGround-level ozone, a component of smog, is a harmful air pollutant linked to asthma, bronchitis, and other respiratory illnesses. It’s formed mainly in urban areas from vehicle emissions. Gas-powered vehicles emit nitrogen oxides, which react with sunlight to photodissociate into nitrogen and a single oxygen molecule. Oxygen doesn’t like to exist as a single molecule, so it quickly bonds with O2 in the air to to create O3, or ozone1. Without the presence of a stabilizing substance, ozone will continue to photodissociate into O and O2 and come back together like quarrelsome lovers over and over and over again. Trees play an interesting role in this relationship, both contributing to the formation and removal of ozone in the air2. Through the stomata on their leaves, trees filter air pollutants and emit volatile organic compounds (VOCs), which serve to attract pollinators or repel pests. The general rule of thumb is that the more fragrant the tree, the higher the emittance of VOCs. VOCs react with ground-level ozone and prevent further photodissocation, contributing to the formation of smog."
  },
  {
    "objectID": "posts/2023-12-14-eds222-final/index.html#data",
    "href": "posts/2023-12-14-eds222-final/index.html#data",
    "title": "Ozone and Tree Canopy in LA County",
    "section": "Data",
    "text": "Data\nCalEnviroScreen 4.0\nReleased by the California Office of Environmental Health Hazards Assessment in 2021, CalEnviroScreen 4.0 maps environmental, socieconomic, and health indicators at the census tract level for California. The two variables used in my analysis are ozone, measured in parts per million (ppm), and traffic, measured in vehicles per hour (vehicles/hour). The ozone values are the daily maximum concentrations averaged over May through October from 2017-2019. Traffic volume in each census tract was collected in 2017.\nTree Canopy Cover\nThis dataset, created by Tree People and the Center for Urban Resilience, lists existing percent canopy cover in each census tract in LA County. The data was created using LiDAR to estimate the proportion of area in each census tract occupied by tree canopy. The data was last updated in 2021 and describes canopy cover for 2016.\nUS EPA Air Quality System\nUsing the EPA Air Quality System query, I retrieved daily ozone measurements from 13 monitors in LA County for the years 2017-2019 to conduct my time series analysis. These monitors collect the data used to assign ozone values to census tracts in CalEnviroScreen 4.0.\n\n\nCode\n# import packages\nlibrary(tidyverse)\nlibrary(here)\nlibrary(sf)\nlibrary(modelr)\nlibrary(knitr)\nlibrary(broom)\nlibrary(lubridate)\nlibrary(tmap)\nlibrary(tsibble)\nlibrary(feasts)\nlibrary(cowplot)\nlibrary(stargazer)\n\n# disable scientific notation\noptions(scipen = 999)\n\n\n\n\nCode\n# read in tree canopy percentage by census tract\ntree_canopy &lt;- read_csv(here(\"posts\", \"2023-12-14-eds222-final\", \"data\", \"2016 Tree Canopy Cover Calculations_a.csv\"))\n\n# read in CalEnviroScreen 4.0\nenviroscreen &lt;- st_read(here(\"posts\", \"2023-12-14-eds222-final\", \"data\", \"calenviroscreen40shpf2021shp\", \"CES4 Final Shapefile.shp\"), quiet = TRUE) %&gt;% \n  filter(County == \"Los Angeles\")\n\n# select variables of interest\nenviroscreen &lt;- enviroscreen %&gt;% \n  select(Tract, Ozone, OzoneP, Traffic, TrafficP, Shape_Leng, Shape_Area, geometry) %&gt;% \n  mutate(Traffic = na_if(Traffic, -999))\n\n# make column names lowercase\nnames(enviroscreen) &lt;- tolower(names(enviroscreen))\n\n# merge the two dataframes\ntracts_trees &lt;- merge(enviroscreen, tree_canopy, by.x = \"tract\", by.y = \"geoid20\")"
  },
  {
    "objectID": "posts/2023-12-14-eds222-final/index.html#linear-regression",
    "href": "posts/2023-12-14-eds222-final/index.html#linear-regression",
    "title": "Ozone and Tree Canopy in LA County",
    "section": "Linear Regression",
    "text": "Linear Regression\n\nPreliminary Data Analysis, Preparation, and Visualization\nTo prepare my data for linear regression, I first merged my CalEnviroScreen 4.0 and tree canopy cover datasets by census tract ID. During the merge, we lose around 350 census tracts due to mismatched IDs. IDs may have been updated between the different temporal ranges of our datasets. We’re still left with measurements for ozone, traffic volume, and percent tree canopy cover in 2,016 census tracts, which is a large enough sample to conduct our linear regression.\nNext, I explored my data to see if it meets the assumptions to conduct Ordinary Least Squares regression. Plotting the distribution of my dependent variable, we can see that ozone is not distributed normally, but bimodally. Since there’s no major skew, we can’t easily transform our data logarithmically.\n\n\nCode\n# plot histogram to show distribution of ozone concentrations in census tracts\nggplot(enviroscreen) +\n  geom_histogram(aes(x = ozone),\n                 bins = 30,\n                 color = \"black\",\n                 fill = \"seagreen\") +\n  labs(x = \"ozone (ppm)\",\n       y = \"count\",\n       title = \"Ozone Concentration Frequency\") +\n  theme_bw()\n\n\n\n\n\nFigure 1: Histogram of ozone concentrations in LA County census tracts\n\n\n\n\nThen, I plotted two scatterplots of my independent variables, traffic volume and percent tree canopy cover, against ozone concentrations.\n\n\nCode\n# plot percent canopy cover against ozone\ntrees_scatter &lt;- tracts_trees %&gt;% \n  ggplot(aes(x = existing_canopy_pct, y = ozone)) +\n  geom_point() +\n  geom_smooth(method = \"lm\",\n              color = \"red\",\n              formula = y ~ x,\n              se = FALSE) + \n  labs(x = \"canopy cover (percent)\",\n       y = \"ozone (ppm)\") +\n  theme_bw()\n\n# plot traffic volume against ozone\ntraffic_scatter &lt;- tracts_trees %&gt;% \n  ggplot(aes(x = traffic, y = ozone)) +\n  geom_point() +\n  geom_smooth(method = \"lm\",\n              color = \"red\",\n              formula = y ~ x,\n              se = FALSE) + \n  labs(x = \"traffic (vehicles/hour)\",\n       y = \"\") +\n  theme_bw()\n\n# arrange the plots side-by-side\nplot_grid(trees_scatter, traffic_scatter, labels = \"AUTO\")\n\n\n\n\n\nFigure 2: Percent tree canopy cover (A) and traffic volume (B) plotted against ozone concentrations in census tracts in LA County. Regression line plotted to show correlation\n\n\n\n\nBy plotting a correlation line using geom_smooth() in our ggplot code, we notice a positive correlation between percent canopy cover and ozone concentrations, but no correlation between traffic volume and ozone.\nBefore running our regression model, let’s test for multicollinearity between our independent variables.\n\n\nCode\n# find correlation between traffic volume and percent tree canopy cover\nprint(paste(\"r:\", round(cor(tracts_trees$traffic, tracts_trees$existing_canopy_pct, use = \"na.or.complete\"), digits = 3)))\n\n\n[1] \"r: -0.04\"\n\n\nThere is almost no correlation between our independent variables, so let’s add them to our model and conduct a multiple linear regression, predicting ozone concentrations with percent tree canopy cover and traffic volume.\n\n\nMultiple Linear Regression\n\nCode\n# multiple linear regression, predicting ozone with percent tree canopy cover and traffic volume\ntrees_traffic_mod &lt;- lm(ozone ~ existing_canopy_pct + traffic, data = tracts_trees)\n\n# output our regression results\nstargazer(trees_traffic_mod,\n          type = \"html\",\n          title = \"ozone ~ percent canopy cover + traffic volume\",\n          align = TRUE,\n          covariate.labels = c(\"canopy cover (%)\", \"traffic volume (vehicles/hour)\"),\n          omit.stat = c(\"F\", \"ser\", \"aic\"),\n          single.row = TRUE)\n\n\n\n\nozone ~ percent canopy cover + traffic volume\n\n\n\n\n\n\n\n\n\nDependent variable:\n\n\n\n\n\n\n\n\n\n\n\n\nozone\n\n\n\n\n\n\n\n\ncanopy cover (%)\n\n\n0.0003*** (0.00002)\n\n\n\n\ntraffic volume (vehicles/hour)\n\n\n0.00000 (0.00000)\n\n\n\n\nConstant\n\n\n0.047*** (0.0005)\n\n\n\n\n\n\n\n\nObservations\n\n\n2,010\n\n\n\n\nR2\n\n\n0.078\n\n\n\n\nAdjusted R2\n\n\n0.077\n\n\n\n\n\n\n\n\nNote:\n\n\np&lt;0.1; p&lt;0.05; p&lt;0.01\n\n\n\n\nTable 1: Multiple linear regression predicting ozone concentrations in census tracts with percent canopy cover and traffic volume. Output formatted with stargazer\nAt first glance, we can see that the asterisks next to canopy cover indicate that canopy cover and ozone have a statistically significant relationship at a significance level of .01, but there is no statistically significant relationship between traffic volume and ozone. Let’s take traffic volume out of our model and run a simple linear regression.\n\n\nSimple Linear Regression\n\nCode\n# simple linear regression, predicting ozone concentrations with percent tree canopy cover\ntrees_ozone_mod &lt;- lm(ozone ~ existing_canopy_pct, data = tracts_trees)\n\n# output our regression results\nstargazer(trees_ozone_mod,\n          type = \"html\",\n          title = \"ozone ~ percent canopy cover\",\n          align = TRUE,\n          covariate.labels = c(\"canopy cover (%)\"),\n          omit.stat = c(\"F\", \"ser\", \"aic\"),\n          single.row = TRUE)\n\n\n\n\nozone ~ percent canopy cover\n\n\n\n\n\n\n\n\n\nDependent variable:\n\n\n\n\n\n\n\n\n\n\n\n\nozone\n\n\n\n\n\n\n\n\ncanopy cover (%)\n\n\n0.0003*** (0.00002)\n\n\n\n\nConstant\n\n\n0.047*** (0.0004)\n\n\n\n\n\n\n\n\nObservations\n\n\n2,016\n\n\n\n\nR2\n\n\n0.075\n\n\n\n\nAdjusted R2\n\n\n0.075\n\n\n\n\n\n\n\n\nNote:\n\n\np&lt;0.1; p&lt;0.05; p&lt;0.01\n\n\n\n\nTable 2: Simple linear regression predicting ozone concentrations in census tracts with percent canopy cover. Output formatted with stargazer\nOur intercept means that for census tracts with 0% canopy cover, we expect to see ozone concentrations of .047 ppm. Our canopy cover coefficient means that for each 1 percentage point increase in canopy cover, we would expect to see a census tract’s ozone concentration increase by .0003 ppm. Our R2 value means that around 7.5% of the variation in ozone in census tracts in LA County can be explained by percent tree canopy cover alone.\nEven though there’s a statistically significant relationship between ozone and percent tree canopy cover, our model seems to tell us that tree canopy cover doesn’t drive ozone all that much. Let’s plot the residuals of our model to see if they are normally distributed.\n\n\nCode\n# save regression to our model\npredictions &lt;- tracts_trees %&gt;% \n  add_predictions(trees_ozone_mod) %&gt;% \n  mutate(residuals = ozone - pred)\n\n# plot our residuals to see if they are normally distributed\nggplot(predictions,\n       aes(x = residuals)) +\n  geom_histogram(color = \"black\",\n                 fill = \"seagreen\",\n                 bins = 30) +\n  theme_bw() +\n  labs(title = \"Ozone ~ Percent Canopy Cover Residuals Frequency\")\n\n\n\n\n\nFigure 3: Histogram of simple linear regression residuals\n\n\n\n\nWe can see that our residuals are not normally distributed, but follow a bimodal distribution. This means that our model may be suffering from omitted variable bias. Prior research2 tells us that there are other factors that drive ozone, such as sunlight and temperature."
  },
  {
    "objectID": "posts/2023-12-14-eds222-final/index.html#time-series-analysis",
    "href": "posts/2023-12-14-eds222-final/index.html#time-series-analysis",
    "title": "Ozone and Tree Canopy in LA County",
    "section": "Time Series Analysis",
    "text": "Time Series Analysis\n\nPreliminary Data Analysis, Preparation, and Visualization\nRecall that the ozone variable in CalEnviroScreen 4.0 is the maximum daily concentration averaged over May-October for the years 2017-2019. Digging into the metadata for the dataset, the underlying assumption is that ozone concentrations are higher during the summer months. By retrieving the US EPA Air Quality System daily ozone monitoring data for the entire three-year span, we can assess the seasonality of ozone.\nThe US EPA AQS data is downloaded as three separate .csv files for 2017, 2018, and 2019. Since the dataframes share identical column names, we can simply stack them together in one dataframe using rbind().\n\n\nCode\n## read in our time-series ozone data\n# LA ozone 2017\nla_ozone_2017 &lt;- read_csv(here(\"posts\", \"2023-12-14-eds222-final\", \"data\", \"la_ozone_2017.csv\")) %&gt;% \n    rename(ozone = \"Daily Max 8-hour Ozone Concentration\")\n\n# LA ozone 2018\nla_ozone_2018 &lt;- read_csv(here(\"posts\", \"2023-12-14-eds222-final\", \"data\", \"la_ozone_2018.csv\")) %&gt;% \n    rename(ozone = \"Daily Max 8-hour Ozone Concentration\")\n\n# LA ozone 2019\nla_ozone_2019 &lt;- read_csv(here(\"posts\", \"2023-12-14-eds222-final\", \"data\", \"la_ozone_2019.csv\")) %&gt;% \n    rename(ozone = \"Daily Max 8-hour Ozone Concentration\")\n\n# rbind our CSVs together\nozone_3yr &lt;- rbind(la_ozone_2017, la_ozone_2018, la_ozone_2019)\n\n\nUsing the lubridate package, we can turn our date column into a datetime object. This will allow us to group our observations by month and take the monthly mean from January 2017-December 2019. Let’s make a simple time series plot of monthly mean ozone to see evidence of a seasonal component.\n\n\nCode\n# clean up column names\nnames(ozone_3yr) &lt;- names(ozone_3yr) %&gt;% \n  tolower() %&gt;% \n  str_replace_all(\" \", \"_\")\n\n# replace slashes with hyphens\nozone_3yr$date &lt;- ozone_3yr$date %&gt;% \n  str_replace_all(\"/\", \"-\")\n\n# convert to a datetime object\nozone_3yr$date &lt;- as_datetime(ozone_3yr$date, format = \"%m-%d-%Y\") \n\n# parse the month and the year\nozone_3yr &lt;- ozone_3yr %&gt;% \n  mutate(month = month(date, label = TRUE),\n         year = year(date)) %&gt;% \n  mutate(mo_yr = yearmonth(date))\n\n# find the mean for each month\nmonthly_mean &lt;- ozone_3yr %&gt;% \n  group_by(mo_yr) %&gt;% \n  summarize(daily_ozone_mean = mean(ozone, na.rm = TRUE)) %&gt;% \n  as_tsibble(index = mo_yr)\n\n# plot the monthly data\nggplot(monthly_mean,\n       aes(x = mo_yr, y = daily_ozone_mean)) +\n  geom_line() +\n  theme_bw() +\n  labs(x = \"time\",\n       y = \"monthly mean ozone (ppm)\",\n       title = \"LA County Monthly Mean Ozone Concentrations\")\n\n\n\n\n\nFigure 4: Time series of monthly mean ozone (ppm) from January 2017-December 2019\n\n\n\n\nOur time series plot shows evidence of seasonality, with mean monthly ozone concentrations peaking during summer and dropping during winter. Assuming our seasonality occurs during a one-year period, we can plot an autocorrelation function with 12 lags to look at the strength of this seasonality.\n\n\nCode\n# plot an autocorrelation function of monthly mean ozone with 12 lags\nacf(monthly_mean, \n    lag.max = 12,\n    main = \"Monthly Mean Ozone Autocorrelation\")\n\n\n\n\n\nFigure 5: Autocorrelation of monthly mean ozone in LA County from 2017-2019\n\n\n\n\nOur autocorrelation plot describes how correlated monthly mean ozone values at any given month are with previous months. Each line represents the autocorrelation between month \\(t\\) and month \\(t-i\\). We can see that there is a statistically significant, positive correlation between month \\(t\\) and months \\(t-2\\), \\(t-11\\), and \\(t-12\\). There is a statistically significant, negative correlation between month \\(t\\) and months \\(t-5\\), \\(t-6\\), \\(t-7\\), and \\(t-8\\). Intuitively, this checks out. If ozone concentrations are higher in the summer and lower in the winter, we expect monthly mean ozone values to be positively correlated with the months around them, and negatively correlated with months around 6 months away."
  },
  {
    "objectID": "posts/2023-12-14-eds222-final/index.html#discussion",
    "href": "posts/2023-12-14-eds222-final/index.html#discussion",
    "title": "Ozone and Tree Canopy in LA County",
    "section": "Discussion",
    "text": "Discussion\nBased on the results of our regression analysis, we can assume that the relationship between ozone and tree canopy cover is more complex than what we’ve modeled. Further analysis might involve finding temperature and sunlight measurements for census tracts in LA County over the same temporal range as our ozone variable and adding them as independent variables in another multiple linear regression. Additionally, volatile organic compounds are not only emitted by trees, but by paint or even cooking.\nI believe an interesting but much more complex analysis would also track the seasonal variability of canopy cover. Trees emit VOCs through their leaves, but LA County has many deciduous trees that drop their leaves during winter. Although temperature and sunlight being lower in the winter likely drive the seasonality of ozone, could tree phenology also play a role?"
  },
  {
    "objectID": "posts/2023-12-14-eds222-final/index.html#references",
    "href": "posts/2023-12-14-eds222-final/index.html#references",
    "title": "Ozone and Tree Canopy in LA County",
    "section": "References",
    "text": "References\nData\nCalEnviroScreen 4.0 California Office of Environmental Health Hazards Assessment (2021). Accessed December 5, 2023: https://oehha.ca.gov/calenviroscreen/report/calenviroscreen-40\nTree Canopy Cover Tree People and the Center for Urban Resilience (2021). Accessed December 5, 2023: https://la.myneighborhooddata.org/2021/10/tree-canopy-cover/\nUS EPA Air Quality System United States Environmental Protection Agency (2023). Accessed December 5, 2023: https://www.epa.gov/outdoor-air-quality-data/download-daily-data\nLiterature\n\nFischetti, Mark. “The Paradox of Pollution-Producing Trees”. Scientific American (June 2014): https://www.scientificamerican.com/article/the-paradox-of-pollution-producing-trees/\nFitsky, Anne Charlott, Hans Sanden, Thomas Karl, et al. “The Interplay Between Ozone and Urban Vegetation-BVOC Emissions, Ozone Deposition, and Tree Ecophysiology”. *Frontiers in Forests and Global Change, vol. 2 (2019): https://doi.org/10.3389/ffgc.2019.00050\n\nLastly - If you would like to read some rambling ruminations about forestry, check out my first blog post, written during my time as a GrizzlyCorps Fellow in Trinity County, California."
  },
  {
    "objectID": "posts/2023-11-06-first-post/index.html",
    "href": "posts/2023-11-06-first-post/index.html",
    "title": "A City Slicker’s Observations on more Foresty Forestry",
    "section": "",
    "text": "It seems like everyone owns a chainsaw and a pair of heavy logger boots in Trinity County. Forestry, whether it’s for extracting timber or conservation, runs deep here. Through GrizzlyCorps, I’ve been working with the Trinity County Resource Conservation District on forest management, wildfire prevention, and promoting education and recreation. Trinity County’s land ownership represents a grid of federal, industrial timber, and private lands overlaid on remote, mountainous terrain. The county’s streak of fierce self-reliance and a responsibility to the natural world first began with the stewardship of indigenous groups and then colonial settlers who came for mining and later stayed for logging. Being immersed in ecological forest stewardship has been incredibly interesting and rewarding, but my clean shave and lack of camouflage clothing still belie my city upbringing.\nI grew up in Los Angeles and decided to study urban planning at the University of Southern California once I began to notice all of the urban-centric problems plaguing Angelenos rear their ugly heads. Underpinning the city’s network of freeways and major arterial streets is an insidious history of redlining Black and Latinx neighborhoods in the first half of the 20th century, financially destabilizing previously thriving ethnic enclaves. Erasing history and livelihoods, the city capitalized on the instability and poured 8 lanes of asphalt, the paved lines the mark of a pyrrhic victory that doesn’t function all too well (traffic in LA is just as bad as you think it is). The downward spiral caused by redlining carried a myriad of detrimental effects for affected communities, with factors related to public health, financial stability, and quality of public education deteriorating. Shown on a map, they resemble a gradient of general well-being thinning towards freeways and Black and Latinx communities. On the street, the most obvious effect is in the lack of tree cover.\nDuring my senior year of college, I worked on the Urban Trees Initiative, a collaboration between USC and the City of Los Angeles to increase street tree cover in environmentally-disadvantaged communities. I love camping and backpacking and have hugged a tree once or twice, but I knew absolutely nothing about forestry. I was surprised to hear that the city has an Urban Forestry Division, and even more surprised to learn that Los Angeles boasts the nation’s largest urban forest, comprising 700,000 trees in public areas. Our work involved taking into account factors like carbon sequestration capacity, shade cover, air quality, existing tree cover, and block-level environmental inequity to provide a list of recommended tree species and planting locations to the city. I became enamored with the role that an urban forest plays in larger urban systems and the drive to promote environmental justice in areas where tree cover percentage measures in the single digits (wealthier suburbs of Los Angeles feature tree cover percentages of 20-40%).\nNow, with 6 months of experience in more foresty forestry, as I like to call it, I’ve built a strong enough base to draw comparisons and identify stark differences between forestry in Los Angeles and Trinity County. Perhaps the most glaring difference is in what defines a forest and marks boundaries in the two areas. The 700,000 trees that make up LA’s urban forest are carefully planned and planted in parks or rectangular cut-outs in the sidewalks. They are most often found in rows on streets or on the edges of parks reserved for sports or other more “functional” uses. That the city considers the sum total of all the trees it maintains to be its urban forest ostensibly determines the boundaries of LA’s urban forest to be the municipality’s boundaries. Not included in the total number of trees in LA’s forest are those on private property, which vastly outnumber trees on streets or in parks. The city’s urban forest features distinct boundaries, both politically and ecologically. Walk from the sidewalk into your front yard, and you’re out of the urban forest. Enter into a large, treeless, area like the parking lot of Dodger Stadium, and the few ecological interactions amongst the city’s trees and wildlife all but cease. In such a controlled and manicured environment, the city’s forest is simple to define. By contrast, Trinity County’s political or administrative forest boundaries fail to define a forest that more closely follows blurred ecological edges. The Shasta-Trinity National Forest, right in our backyard, only had its hard, superimposed edges written into existence by the U.S. Forest Service in 1954. Within those boundaries and around those edges occur disturbances such as development or logging, which may impede but fail to completely stop interactions like wildfire or birds carrying seeds. In effect, forests in Trinity County are much more difficult to define through the anthropocentric framework in which forestry typically operates. Lines might be placed on a map, designating a national forest or vegetation classifications, but they don’t depict the complex, amorphous web of ecological relationships that LA’s urban forest seems to mute.\n\n\n\nShasta-Trinity National Forest\n\n\nA comforting similarity between LA's urban forest and Trinity County's forests is the mad rush to undo past mistakes through more calculated management. Only in the last few decades have problems stemming from years of mismanagement in Los Angeles and Trinity County begun to be addressed. While the City of Stars' palm trees are iconic, the majority of them originated from a boost to the city's aesthetics around a century ago. Nearing the end of their lifespan, the palm trees are dying in droves to fungus and beetles. Another prominent tree lining the streets of Los Angeles is the Indian Laurel Fig, the famed sidewalk destroyer. The tough, woody roots of this tree tend to grow thick and lateral, cracking concrete and pavement in the process. The bane of my existence, I have found myself the subject of many a high school physics equation as my skateboard catches on uneven pavement and mass times velocity prompts my forward momentum. Neither of these trees are native to Los Angeles, aligning with a theme present in the around 1,000 distinct tree species in the city's urban forest. LA, and other urban areas, benefit from being in the interesting position of having so greatly altered the native landscape. In the face of a changing climate, without an abundance of native trees to consider, Los Angeles is pledging to plant trees adapted to drier climates in the Mediterranean or South America to conserve water and ensure their survivability. Straying from aesthetics as a priority, the list of ideal candidates also prioritizes shade cover, to mitigate urban heat island effect, and carbon sequestration, to combat poor air quality. In Trinity County, the renewed drive to restore and conserve native forests is very much alive. Years of fire suppression, beginning with outlawing indigenous groups from tending hunting and forage grounds with controlled burns, have come to a head, with incredibly dense forests lending fuel to California's megafires. Conversations around forest management almost always feature pleas to restore good fire to the landscape. The prevalence of prescribed burning as a tool for forest management has increased greatly in the last few years. What began as carefully burning piles of stacked fuel has turned into the ability to burn acres of understory brush and ground fuels to promote forest health and reduce fuels during wildfire season. Indigenous prescribed fire training exchanges offer opportunities for both non-tribal and tribal members to further traditional ecological knowledge and promote good fire. Prescribed Burn Associations, mutual assistance networks of neighbors who burn on private land, are being created and propped up by nonprofits and governmental organizations. The acrid smell of winter smoke acts as a sharp reminder of the beneficial work that many individuals, tribes, and organizations conduct for forest management in Trinity County.\n\n\n\nAn iconic LA treescape, featuring pavement and those pesky Indian Laurel Figs\n\n\nDespite being completely out of my element, it has been an absolute pleasure to dive into two diametrically opposed worlds united under the same field. Whether I return to a city or stay in a rural area, lessons learned about management, cultural significance, and ecology in each can only serve to benefit me. For now, my low-top Converse sit unused in favor of my logger boots.\noriginal post: https://www.grizzlycorps.org/post/a-city-slicker-s-observations-on-more-foresty-forestry"
  },
  {
    "objectID": "posts/air_quality_and_imagery.html",
    "href": "posts/air_quality_and_imagery.html",
    "title": "Air Quality and the Thomas Fire",
    "section": "",
    "text": "Github repository: https://github.com/charliecurtin1/air_quality_and_imagery\n\n\n\n\n\nThe Thomas Fire occurred in Santa Barbara County in December 2017, covering an area of around 280,000 acres. Wildfires are a natural feature on our landscape and carry many positive benefits, including nutrient cycling and sprouting of fire-dependent vegetation. When they become too severe, burning a large area or burning too intensely, they can carry negative effects, like enabling devastating landslides through the loss of vegetation. Besides their immediate threat to people, wildfires are also a health risk through the emission of particulate matter.\n\n\n\nThis analysis will visualize the burn scar of the Thomas Fire using Landsat imagery and false color band combinations. We will show techniques to modify and visualize raster data, as well as plotting raster and vector data together. We will also visualize the daily AQI index, a measure of air quality, for Santa Barbara County during a window of time that includes the Thomas Fire. This part of the analysis will show techniques to clean dataframes, join data together, and work with time series data to calculate a moving average.\n\n\n\nLandsat 8\nThe Landsat data was processed and downloaded from the Microsoft Planetary Computer. The area of interest is cropped to show Santa Barbara County. The data is stored as an xarray.Dataset. It includes 5 data variables, which represent the 5 color bands available for visualization.\n\nLink: https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2\n\nCalifornia Fire Perimeters\nThis dataset shows fire perimeters, including wildfires and prescribed burns, for the State of California. The data was created by the California Department of Forestry and Fire Protection (CalFire) and is hosted on the California State Geoportal. It includes information like the year of the fire, the fire footprint, and the area burned.\n\nLink: https://gis.data.ca.gov/datasets/CALFIRE-Forestry::california-fire-perimeters-all-1/about\n\nAir Quality Index\nThis dataset was created by the US Environmental Protection Agency and describes daily air quality index values by county in the United States. Data are available as .csv files by year from 1980-2022. For our analysis, we used data from 2017 and 2018.\n\nLink: https://aqs.epa.gov/aqsweb/airdata/download_files.html#AQI\n\n\n\n\n\n\nCode\n# import libraries and functions\nimport os\nimport geopandas as gpd\nimport pandas as pd\nimport numpy as np\nimport xarray as xr\nimport rioxarray as rioxr\nimport matplotlib.pyplot as plt\nimport matplotlib.patches as mpatches\nimport matplotlib.path as mpath\nimport matplotlib.lines as mlines\nfrom shapely.geometry import box\n\n\n\n\n\nTo visualize the Thomas Fire burn scar, we will use the California Fire Perimeters and Landsat imagery.\n\n\nCode\n# read in the CA fire perimeters and landsat data\nca_fire = gpd.read_file(os.path.join(os.getcwd(), 'data', 'California_Fire_Perimeters_2017', 'California_Fire_Perimeters_2017.shp'))\n\nlandsat = rioxr.open_rasterio(os.path.join(os.getcwd(), 'data', 'landsat8-2018-01-26-sb-simplified.nc'))\n\n\nNext we need to prepare our data for visualization. Since our xarray.Dataset needs to be two-dimensional to plot, we’ll drop the single band and it’s coordinates from our dimensions. We’ll also select just the Thomas Fire from our fire perimeters and make sure our two datasets are in the same coordinate reference system.\n\n\nCode\n# drop the band dimension and its coordinates from the landsat raster because there is only one band\nlandsat = landsat.squeeze()\nlandsat = landsat.drop('band')\n\n# select the thomas fire perimeter\nthomas_fire = ca_fire[ca_fire.FIRE_NAME == 'THOMAS']\n\n# set the layers on a common CRS\nthomas_fire = thomas_fire.to_crs(landsat.rio.crs)\n\n\n\n\n\nWe can display the burn scar of the Thomas Fire by using false color imagery. We’ll plot the band combination of shortwave infrared, near infrared, and red. Newly-burned land reflects short wave infrared intensely, so the false color imagery should display the burn scar in bright red. We’ll also plot the perimeter of the Thomas Fire on top of the imagery to verify.\n\n\nCode\n## map the Thomas Fire perimeter on top of a false color image of Santa Barbara County\n# initialize the map and turn the lat/long ticks off\nfig, ax = plt.subplots()\nax.axis('off')\n\n# plot the false color image with bands shortwave IR, near IR, and red\nlandsat[['swir22', 'nir08', 'red']].to_array().plot.imshow(robust = True)\n\n# plot the Thomas Fire perimeter\nthomas_fire.plot(ax = ax,\n                color = 'none',\n                edgecolor = 'black')\n# create a graphical patch for the legend\nthomas_fire_patch = mpatches.Rectangle((0, 0), 0, 0,\n                                        facecolor = 'none',\n                                        edgecolor = 'black',\n                                        label = 'Thomas Fire perimeter')\n\n# create a legend\nax.legend(handles = [thomas_fire_patch],\n         loc = 'lower left')\n\n# set map title\nplt.title(\"Santa Barbara County false color \\n imagery and the Thomas Fire perimeter\")\n\n# show the plot without the output text\n_ = plt.show()\n\n\n\n\n\n\n\n\nNext we’ll read in our daily AQI data for 2017 and 2018.\n\n\nCode\n# read in the 2017 AQI data \naqi_17 = pd.read_csv(\"https://aqs.epa.gov/aqsweb/airdata/daily_aqi_by_county_2017.zip\")\n\n# read in the 2018 AQI data\naqi_18 = pd.read_csv(\"https://aqs.epa.gov/aqsweb/airdata/daily_aqi_by_county_2018.zip\")\n\n\nNext we’ll concatenate the dataframes into one, clean up column names, and subset data for Santa Barbara County\n\n\nCode\n# concatenate the 2017 and 2018 dataframes to create a new dataframe\naqi = pd.concat([aqi_17, aqi_18])\n\n# clean up the column names in our dataframe by changing them to snakecase\naqi.columns = aqi.columns.str.lower().str.replace(' ','_')\n\n# subset data from Santa Barbara County, remove the columns 'state_name', 'county_name', 'state_code', and 'county_code' to create a new dataframe\naqi_sb = aqi[aqi['county_name'] == 'Santa Barbara'].drop(['state_name', 'county_name', 'state_code', 'county_code'], axis = 1)\n\n\nTo prepare our data for plotting, we’ll need to turn the date column into a datetime object. This will allow us to work with the time series properly and calculate the 5 day rolling average of AQI over the 2 year period in Santa Barbara.\n\n\nCode\n# update the date column of aqi_sb to be a datetime object\naqi_sb.date = pd.to_datetime(aqi_sb.date)\n\n# update the index of aqi_sb to be the date column\naqi_sb = aqi_sb.set_index('date')\n\n# add the mean 5 day rolling average of AQI to the aqi_sb dataframe as a new column\naqi_sb = aqi_sb.assign(five_day_average = aqi_sb.aqi.rolling('5D').mean())\n\n\nNow we can plot our daily and 5 day rolling average of AQI in Santa Barbara County.\n\n\nCode\n# initialize plot\nfig, ax = plt.subplots()\n\n# plot daily and five day average aqi\n_ = aqi_sb[['aqi', 'five_day_average']].plot(ax = ax,\n                                            title = 'Daily and Rolling 5-Day Average of AQI in Santa Barbara County',\n                                            xlabel = 'Date',\n                                            ylabel = 'AQI',\n                                            color = {'aqi':'#F48FB1', 'five_day_average':'#AB47BC'})\n\n# change legend labels\n_ = ax.legend(labels = (\"daily\", \"five day average\"))\n\n\n\n\n\n\n\n\nAs we can see from the final plot, there was a large spike in AQI during December 2017 in both the daily and five day average. Our daily values spiked during this time between 250 and 300, which is classified as “very unhealthy” in the AQI Index. The five day average during this period spiked above 200, which would also be classified as “very unhealthy”."
  },
  {
    "objectID": "posts/air_quality_and_imagery.html#about",
    "href": "posts/air_quality_and_imagery.html#about",
    "title": "Air Quality and the Thomas Fire",
    "section": "",
    "text": "The Thomas Fire occurred in Santa Barbara County in December 2017, covering an area of around 280,000 acres. Wildfires are a natural feature on our landscape and carry many positive benefits, including nutrient cycling and sprouting of fire-dependent vegetation. When they become too severe, burning a large area or burning too intensely, they can carry negative effects, like enabling devastating landslides through the loss of vegetation. Besides their immediate threat to people, wildfires are also a health risk through the emission of particulate matter.\n\n\n\nThis analysis will visualize the burn scar of the Thomas Fire using Landsat imagery and false color band combinations. We will show techniques to modify and visualize raster data, as well as plotting raster and vector data together. We will also visualize the daily AQI index, a measure of air quality, for Santa Barbara County during a window of time that includes the Thomas Fire. This part of the analysis will show techniques to clean dataframes, join data together, and work with time series data to calculate a moving average.\n\n\n\nLandsat 8\nThe Landsat data was processed and downloaded from the Microsoft Planetary Computer. The area of interest is cropped to show Santa Barbara County. The data is stored as an xarray.Dataset. It includes 5 data variables, which represent the 5 color bands available for visualization.\n\nLink: https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2\n\nCalifornia Fire Perimeters\nThis dataset shows fire perimeters, including wildfires and prescribed burns, for the State of California. The data was created by the California Department of Forestry and Fire Protection (CalFire) and is hosted on the California State Geoportal. It includes information like the year of the fire, the fire footprint, and the area burned.\n\nLink: https://gis.data.ca.gov/datasets/CALFIRE-Forestry::california-fire-perimeters-all-1/about\n\nAir Quality Index\nThis dataset was created by the US Environmental Protection Agency and describes daily air quality index values by county in the United States. Data are available as .csv files by year from 1980-2022. For our analysis, we used data from 2017 and 2018.\n\nLink: https://aqs.epa.gov/aqsweb/airdata/download_files.html#AQI\n\n\n\n\n\n\nCode\n# import libraries and functions\nimport os\nimport geopandas as gpd\nimport pandas as pd\nimport numpy as np\nimport xarray as xr\nimport rioxarray as rioxr\nimport matplotlib.pyplot as plt\nimport matplotlib.patches as mpatches\nimport matplotlib.path as mpath\nimport matplotlib.lines as mlines\nfrom shapely.geometry import box\n\n\n\n\n\nTo visualize the Thomas Fire burn scar, we will use the California Fire Perimeters and Landsat imagery.\n\n\nCode\n# read in the CA fire perimeters and landsat data\nca_fire = gpd.read_file(os.path.join(os.getcwd(), 'data', 'California_Fire_Perimeters_2017', 'California_Fire_Perimeters_2017.shp'))\n\nlandsat = rioxr.open_rasterio(os.path.join(os.getcwd(), 'data', 'landsat8-2018-01-26-sb-simplified.nc'))\n\n\nNext we need to prepare our data for visualization. Since our xarray.Dataset needs to be two-dimensional to plot, we’ll drop the single band and it’s coordinates from our dimensions. We’ll also select just the Thomas Fire from our fire perimeters and make sure our two datasets are in the same coordinate reference system.\n\n\nCode\n# drop the band dimension and its coordinates from the landsat raster because there is only one band\nlandsat = landsat.squeeze()\nlandsat = landsat.drop('band')\n\n# select the thomas fire perimeter\nthomas_fire = ca_fire[ca_fire.FIRE_NAME == 'THOMAS']\n\n# set the layers on a common CRS\nthomas_fire = thomas_fire.to_crs(landsat.rio.crs)\n\n\n\n\n\nWe can display the burn scar of the Thomas Fire by using false color imagery. We’ll plot the band combination of shortwave infrared, near infrared, and red. Newly-burned land reflects short wave infrared intensely, so the false color imagery should display the burn scar in bright red. We’ll also plot the perimeter of the Thomas Fire on top of the imagery to verify.\n\n\nCode\n## map the Thomas Fire perimeter on top of a false color image of Santa Barbara County\n# initialize the map and turn the lat/long ticks off\nfig, ax = plt.subplots()\nax.axis('off')\n\n# plot the false color image with bands shortwave IR, near IR, and red\nlandsat[['swir22', 'nir08', 'red']].to_array().plot.imshow(robust = True)\n\n# plot the Thomas Fire perimeter\nthomas_fire.plot(ax = ax,\n                color = 'none',\n                edgecolor = 'black')\n# create a graphical patch for the legend\nthomas_fire_patch = mpatches.Rectangle((0, 0), 0, 0,\n                                        facecolor = 'none',\n                                        edgecolor = 'black',\n                                        label = 'Thomas Fire perimeter')\n\n# create a legend\nax.legend(handles = [thomas_fire_patch],\n         loc = 'lower left')\n\n# set map title\nplt.title(\"Santa Barbara County false color \\n imagery and the Thomas Fire perimeter\")\n\n# show the plot without the output text\n_ = plt.show()\n\n\n\n\n\n\n\n\nNext we’ll read in our daily AQI data for 2017 and 2018.\n\n\nCode\n# read in the 2017 AQI data \naqi_17 = pd.read_csv(\"https://aqs.epa.gov/aqsweb/airdata/daily_aqi_by_county_2017.zip\")\n\n# read in the 2018 AQI data\naqi_18 = pd.read_csv(\"https://aqs.epa.gov/aqsweb/airdata/daily_aqi_by_county_2018.zip\")\n\n\nNext we’ll concatenate the dataframes into one, clean up column names, and subset data for Santa Barbara County\n\n\nCode\n# concatenate the 2017 and 2018 dataframes to create a new dataframe\naqi = pd.concat([aqi_17, aqi_18])\n\n# clean up the column names in our dataframe by changing them to snakecase\naqi.columns = aqi.columns.str.lower().str.replace(' ','_')\n\n# subset data from Santa Barbara County, remove the columns 'state_name', 'county_name', 'state_code', and 'county_code' to create a new dataframe\naqi_sb = aqi[aqi['county_name'] == 'Santa Barbara'].drop(['state_name', 'county_name', 'state_code', 'county_code'], axis = 1)\n\n\nTo prepare our data for plotting, we’ll need to turn the date column into a datetime object. This will allow us to work with the time series properly and calculate the 5 day rolling average of AQI over the 2 year period in Santa Barbara.\n\n\nCode\n# update the date column of aqi_sb to be a datetime object\naqi_sb.date = pd.to_datetime(aqi_sb.date)\n\n# update the index of aqi_sb to be the date column\naqi_sb = aqi_sb.set_index('date')\n\n# add the mean 5 day rolling average of AQI to the aqi_sb dataframe as a new column\naqi_sb = aqi_sb.assign(five_day_average = aqi_sb.aqi.rolling('5D').mean())\n\n\nNow we can plot our daily and 5 day rolling average of AQI in Santa Barbara County.\n\n\nCode\n# initialize plot\nfig, ax = plt.subplots()\n\n# plot daily and five day average aqi\n_ = aqi_sb[['aqi', 'five_day_average']].plot(ax = ax,\n                                            title = 'Daily and Rolling 5-Day Average of AQI in Santa Barbara County',\n                                            xlabel = 'Date',\n                                            ylabel = 'AQI',\n                                            color = {'aqi':'#F48FB1', 'five_day_average':'#AB47BC'})\n\n# change legend labels\n_ = ax.legend(labels = (\"daily\", \"five day average\"))\n\n\n\n\n\n\n\n\nAs we can see from the final plot, there was a large spike in AQI during December 2017 in both the daily and five day average. Our daily values spiked during this time between 250 and 300, which is classified as “very unhealthy” in the AQI Index. The five day average during this period spiked above 200, which would also be classified as “very unhealthy”."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Charlie Curtin",
    "section": "",
    "text": "Hi there! My name is Charlie Curtin, and I’m student at the Bren School of Environmental Science and Management pursuing a master’s degree in environmental data science."
  }
]